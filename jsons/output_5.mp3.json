{
  "chunks": [
    {
      "number": "output",
      "title": "",
      "start": 0.0,
      "end": 17.38,
      "text": " So today, we'll be continuing along the theme of risk"
    },
    {
      "number": "output",
      "title": "",
      "start": 17.38,
      "end": 18.3,
      "text": " stratification."
    },
    {
      "number": "output",
      "title": "",
      "start": 18.3,
      "end": 22.44,
      "text": " I'll spend the first half to 2 thirds of today's lecture"
    },
    {
      "number": "output",
      "title": "",
      "start": 22.44,
      "end": 27.2,
      "text": " continuing where we left off last week before the discussion."
    },
    {
      "number": "output",
      "title": "",
      "start": 27.2,
      "end": 29.560000000000002,
      "text": " I'll talk about how does one drive the labels"
    },
    {
      "number": "output",
      "title": "",
      "start": 29.56,
      "end": 31.68,
      "text": " that one uses within a supervised machine learning"
    },
    {
      "number": "output",
      "title": "",
      "start": 31.68,
      "end": 32.24,
      "text": " approach."
    },
    {
      "number": "output",
      "title": "",
      "start": 32.24,
      "end": 35.32,
      "text": " I'll continue talking about how one evaluates risk stratification"
    },
    {
      "number": "output",
      "title": "",
      "start": 35.32,
      "end": 36.44,
      "text": " models."
    },
    {
      "number": "output",
      "title": "",
      "start": 36.44,
      "end": 38.44,
      "text": " And then I'll talk about some of the subtleties that"
    },
    {
      "number": "output",
      "title": "",
      "start": 38.44,
      "end": 40.32,
      "text": " arise when you want to use machine learning for health"
    },
    {
      "number": "output",
      "title": "",
      "start": 40.32,
      "end": 42.519999999999996,
      "text": " care, specifically for risk stratification."
    },
    {
      "number": "output",
      "title": "",
      "start": 42.519999999999996,
      "end": 44.9,
      "text": " And I think that's going to be one of the most interesting"
    },
    {
      "number": "output",
      "title": "",
      "start": 44.9,
      "end": 46.04,
      "text": " parts of today's lecture."
    },
    {
      "number": "output",
      "title": "",
      "start": 46.04,
      "end": 47.64,
      "text": " In the last third of today's lecture,"
    },
    {
      "number": "output",
      "title": "",
      "start": 47.64,
      "end": 51.7,
      "text": " I'll be talking about how one can rethink the supervised"
    },
    {
      "number": "output",
      "title": "",
      "start": 51.7,
      "end": 54.64,
      "text": " machine learning problem not to be a classification problem,"
    },
    {
      "number": "output",
      "title": "",
      "start": 54.64,
      "end": 57.44,
      "text": " but be something closer to a regression problem."
    },
    {
      "number": "output",
      "title": "",
      "start": 57.44,
      "end": 60.8,
      "text": " And when one now thinks about not will someone, for example,"
    },
    {
      "number": "output",
      "title": "",
      "start": 60.8,
      "end": 63.32,
      "text": " develop diabetes within one to three years from now,"
    },
    {
      "number": "output",
      "title": "",
      "start": 63.32,
      "end": 66.36,
      "text": " but when precisely will they develop diabetes,"
    },
    {
      "number": "output",
      "title": "",
      "start": 66.36,
      "end": 69.32,
      "text": " so the time to event, then one has"
    },
    {
      "number": "output",
      "title": "",
      "start": 69.32,
      "end": 71.28,
      "text": " to start to really think very carefully"
    },
    {
      "number": "output",
      "title": "",
      "start": 71.28,
      "end": 74.64,
      "text": " about the censoring issues that I alluded to last week."
    },
    {
      "number": "output",
      "title": "",
      "start": 74.64,
      "end": 77.0,
      "text": " And so I'll formalize those notions in the language"
    },
    {
      "number": "output",
      "title": "",
      "start": 77.0,
      "end": 78.24,
      "text": " of survival modeling."
    },
    {
      "number": "output",
      "title": "",
      "start": 78.24,
      "end": 80.5,
      "text": " And I'll talk about how one can do maximum likelihood"
    },
    {
      "number": "output",
      "title": "",
      "start": 80.5,
      "end": 82.4,
      "text": " estimation in that setting and how one should do"
    },
    {
      "number": "output",
      "title": "",
      "start": 82.4,
      "end": 83.64,
      "text": " a validation in that setting."
    },
    {
      "number": "output",
      "title": "",
      "start": 84.56,
      "end": 86.76,
      "text": " OK."
    },
    {
      "number": "output",
      "title": "",
      "start": 86.76,
      "end": 89.6,
      "text": " So in our lecture last week, I gave you"
    },
    {
      "number": "output",
      "title": "",
      "start": 89.6,
      "end": 91.4,
      "text": " this example of risk stratification"
    },
    {
      "number": "output",
      "title": "",
      "start": 91.4,
      "end": 93.0,
      "text": " for type 2 diabetes."
    },
    {
      "number": "output",
      "title": "",
      "start": 93.0,
      "end": 95.72,
      "text": " The goal, just to remind you, was as follows."
    },
    {
      "number": "output",
      "title": "",
      "start": 95.72,
      "end": 98.0,
      "text": " 25% of people in the United States"
    },
    {
      "number": "output",
      "title": "",
      "start": 98.0,
      "end": 100.98,
      "text": " have undiagnosed type 2 diabetes."
    },
    {
      "number": "output",
      "title": "",
      "start": 100.98,
      "end": 104.48,
      "text": " If we could take health insurance claims data that's"
    },
    {
      "number": "output",
      "title": "",
      "start": 104.48,
      "end": 107.64,
      "text": " available for everyone who has health insurance"
    },
    {
      "number": "output",
      "title": "",
      "start": 107.64,
      "end": 111.68,
      "text": " and use that to predict who in the near term, next one"
    },
    {
      "number": "output",
      "title": "",
      "start": 111.72000000000001,
      "end": 114.84,
      "text": " to three years, is likely to be newly diagnosed"
    },
    {
      "number": "output",
      "title": "",
      "start": 114.84,
      "end": 116.76,
      "text": " with type 2 diabetes, then we could"
    },
    {
      "number": "output",
      "title": "",
      "start": 116.76,
      "end": 119.52000000000001,
      "text": " use that to risk stratify patient population."
    },
    {
      "number": "output",
      "title": "",
      "start": 119.52000000000001,
      "end": 122.04,
      "text": " We could use that then to figure out who's most at risk,"
    },
    {
      "number": "output",
      "title": "",
      "start": 122.04,
      "end": 123.64000000000001,
      "text": " do interventions for those patients"
    },
    {
      "number": "output",
      "title": "",
      "start": 123.64000000000001,
      "end": 126.28,
      "text": " to try to get them diagnosed and get them started"
    },
    {
      "number": "output",
      "title": "",
      "start": 126.28,
      "end": 128.56,
      "text": " on treatment if relevant."
    },
    {
      "number": "output",
      "title": "",
      "start": 128.56,
      "end": 129.08,
      "text": " OK."
    },
    {
      "number": "output",
      "title": "",
      "start": 129.08,
      "end": 130.68,
      "text": " But what I didn't talk much about"
    },
    {
      "number": "output",
      "title": "",
      "start": 130.68,
      "end": 133.28,
      "text": " was where did those labels come from?"
    },
    {
      "number": "output",
      "title": "",
      "start": 133.28,
      "end": 136.52,
      "text": " How do we know that someone had a diabetes"
    },
    {
      "number": "output",
      "title": "",
      "start": 136.52,
      "end": 139.60000000000002,
      "text": " onset in that window that I show up there on the top?"
    },
    {
      "number": "output",
      "title": "",
      "start": 142.52,
      "end": 143.92000000000002,
      "text": " So what are the answers?"
    },
    {
      "number": "output",
      "title": "",
      "start": 143.92000000000002,
      "end": 146.84,
      "text": " All of you should have read the paper by Rozavian et al."
    },
    {
      "number": "output",
      "title": "",
      "start": 146.84,
      "end": 151.72,
      "text": " So you should hopefully have some ideas, thoughts."
    },
    {
      "number": "output",
      "title": "",
      "start": 151.72,
      "end": 153.64000000000001,
      "text": " A hint, it was in the supplementary material."
    },
    {
      "number": "output",
      "title": "",
      "start": 157.64000000000001,
      "end": 161.24,
      "text": " How did we define a positive case in that paper?"
    },
    {
      "number": "output",
      "title": "",
      "start": 168.08,
      "end": 168.58,
      "text": " Yep?"
    },
    {
      "number": "output",
      "title": "",
      "start": 168.58,
      "end": 169.88,
      "text": " The drugs they were on?"
    },
    {
      "number": "output",
      "title": "",
      "start": 169.88,
      "end": 170.76000000000002,
      "text": " Drugs they were on."
    },
    {
      "number": "output",
      "title": "",
      "start": 170.76000000000002,
      "end": 171.24,
      "text": " OK, yeah."
    },
    {
      "number": "output",
      "title": "",
      "start": 171.32000000000002,
      "end": 176.52,
      "text": " So for example, metformin, glucose, sorry, insulin."
    },
    {
      "number": "output",
      "title": "",
      "start": 176.52,
      "end": 178.0,
      "text": " I think insulin includes metformin."
    },
    {
      "number": "output",
      "title": "",
      "start": 180.64000000000001,
      "end": 183.68,
      "text": " Metformin is a tricky case, because metformin is often"
    },
    {
      "number": "output",
      "title": "",
      "start": 183.68,
      "end": 187.32000000000002,
      "text": " used for alternative indications."
    },
    {
      "number": "output",
      "title": "",
      "start": 187.32000000000002,
      "end": 190.44,
      "text": " But there are many medications, such as insulin,"
    },
    {
      "number": "output",
      "title": "",
      "start": 190.44,
      "end": 192.60000000000002,
      "text": " which are used pretty exclusively"
    },
    {
      "number": "output",
      "title": "",
      "start": 192.60000000000002,
      "end": 193.96,
      "text": " for treating diabetes."
    },
    {
      "number": "output",
      "title": "",
      "start": 193.96,
      "end": 196.92000000000002,
      "text": " And so you can look to see, does a patient"
    },
    {
      "number": "output",
      "title": "",
      "start": 196.92000000000002,
      "end": 201.04000000000002,
      "text": " have a record of taking one of these diabetic medications"
    },
    {
      "number": "output",
      "title": "",
      "start": 201.84,
      "end": 205.6,
      "text": " in that window that we're using to define the outcome?"
    },
    {
      "number": "output",
      "title": "",
      "start": 205.6,
      "end": 207.48,
      "text": " If you see a record of a medication,"
    },
    {
      "number": "output",
      "title": "",
      "start": 207.48,
      "end": 211.64,
      "text": " you might conjecture, this patient probably has diabetes."
    },
    {
      "number": "output",
      "title": "",
      "start": 211.64,
      "end": 214.16,
      "text": " But what about if they don't have any medication listed"
    },
    {
      "number": "output",
      "title": "",
      "start": 214.16,
      "end": 215.6,
      "text": " in that time window?"
    },
    {
      "number": "output",
      "title": "",
      "start": 215.6,
      "end": 217.48,
      "text": " What could you conclude then?"
    },
    {
      "number": "output",
      "title": "",
      "start": 217.48,
      "end": 219.07999999999998,
      "text": " Any ideas?"
    },
    {
      "number": "output",
      "title": "",
      "start": 219.07999999999998,
      "end": 219.57999999999998,
      "text": " Yeah?"
    },
    {
      "number": "output",
      "title": "",
      "start": 219.57999999999998,
      "end": 223.23999999999998,
      "text": " If you look at the HbA1c value, and you"
    },
    {
      "number": "output",
      "title": "",
      "start": 223.23999999999998,
      "end": 226.16,
      "text": " know the normal range, and if you"
    },
    {
      "number": "output",
      "title": "",
      "start": 226.16,
      "end": 229.95999999999998,
      "text": " see that frequently, it's above like 75 or 70."
    },
    {
      "number": "output",
      "title": "",
      "start": 229.96,
      "end": 232.16,
      "text": " So you're giving me an alternative approach,"
    },
    {
      "number": "output",
      "title": "",
      "start": 232.16,
      "end": 234.54000000000002,
      "text": " not looking at medications, but looking at laboratory test"
    },
    {
      "number": "output",
      "title": "",
      "start": 234.54000000000002,
      "end": 235.04000000000002,
      "text": " results."
    },
    {
      "number": "output",
      "title": "",
      "start": 235.04000000000002,
      "end": 238.08,
      "text": " Look at their HbA1c results, which"
    },
    {
      "number": "output",
      "title": "",
      "start": 238.08,
      "end": 242.08,
      "text": " measures approximately an average of three month glucose"
    },
    {
      "number": "output",
      "title": "",
      "start": 242.08,
      "end": 243.12,
      "text": " values."
    },
    {
      "number": "output",
      "title": "",
      "start": 243.12,
      "end": 245.48000000000002,
      "text": " And if that's out of range, then they're diabetic."
    },
    {
      "number": "output",
      "title": "",
      "start": 245.48000000000002,
      "end": 248.48000000000002,
      "text": " And that's, in fact, usually used as a definition"
    },
    {
      "number": "output",
      "title": "",
      "start": 248.48000000000002,
      "end": 249.96,
      "text": " of diabetes."
    },
    {
      "number": "output",
      "title": "",
      "start": 249.96,
      "end": 252.48000000000002,
      "text": " But that didn't answer my original question."
    },
    {
      "number": "output",
      "title": "",
      "start": 252.48000000000002,
      "end": 255.12,
      "text": " Why is just looking at diabetic medications not enough?"
    },
    {
      "number": "output",
      "title": "",
      "start": 256.12,
      "end": 257.12,
      "text": " Yeah?"
    },
    {
      "number": "output",
      "title": "",
      "start": 257.12,
      "end": 262.12,
      "text": " Some of the diabetic medications can be used to treat other"
    },
    {
      "number": "output",
      "title": "",
      "start": 262.12,
      "end": 262.64,
      "text": " conditions."
    },
    {
      "number": "output",
      "title": "",
      "start": 262.64,
      "end": 265.52,
      "text": " Sometimes there's ambiguity in diabetic medications."
    },
    {
      "number": "output",
      "title": "",
      "start": 265.52,
      "end": 267.08,
      "text": " But we sort of dealt with that already"
    },
    {
      "number": "output",
      "title": "",
      "start": 267.08,
      "end": 269.6,
      "text": " by trying to choose an unambiguous set."
    },
    {
      "number": "output",
      "title": "",
      "start": 269.6,
      "end": 271.12,
      "text": " What are other reasons?"
    },
    {
      "number": "output",
      "title": "",
      "start": 271.12,
      "end": 274.12,
      "text": " Just starting with the medicine and the onset of diabetes"
    },
    {
      "number": "output",
      "title": "",
      "start": 274.12,
      "end": 277.12,
      "text": " could be temporarily extended, like if not diabetes."
    },
    {
      "number": "output",
      "title": "",
      "start": 277.12,
      "end": 278.96,
      "text": " Oh, that's a really interesting point."
    },
    {
      "number": "output",
      "title": "",
      "start": 278.96,
      "end": 281.2,
      "text": " Not the one I was thinking about, but I like it."
    },
    {
      "number": "output",
      "title": "",
      "start": 281.2,
      "end": 283.56,
      "text": " Which is that a patient might have been diagnosed"
    },
    {
      "number": "output",
      "title": "",
      "start": 283.56,
      "end": 287.2,
      "text": " with type 2 diabetes, but they, for whatever reason,"
    },
    {
      "number": "output",
      "title": "",
      "start": 287.2,
      "end": 289.28000000000003,
      "text": " in that communication between provider and patient,"
    },
    {
      "number": "output",
      "title": "",
      "start": 289.28000000000003,
      "end": 292.04,
      "text": " they decided we're not going to start treatment yet."
    },
    {
      "number": "output",
      "title": "",
      "start": 292.04,
      "end": 295.8,
      "text": " So they might not yet be on treatment for diabetes,"
    },
    {
      "number": "output",
      "title": "",
      "start": 295.8,
      "end": 298.72,
      "text": " yet the whole health care system might be very well aware"
    },
    {
      "number": "output",
      "title": "",
      "start": 298.72,
      "end": 300.8,
      "text": " that the patient is diabetic, in which case"
    },
    {
      "number": "output",
      "title": "",
      "start": 300.8,
      "end": 302.8,
      "text": " doing any of these interventions for that patient"
    },
    {
      "number": "output",
      "title": "",
      "start": 302.8,
      "end": 304.12,
      "text": " might be irrelevant."
    },
    {
      "number": "output",
      "title": "",
      "start": 304.12,
      "end": 304.76,
      "text": " Another reason?"
    },
    {
      "number": "output",
      "title": "",
      "start": 304.76,
      "end": 307.4,
      "text": " So a lot of people are just not diagnosed with diabetes,"
    },
    {
      "number": "output",
      "title": "",
      "start": 307.4,
      "end": 308.12,
      "text": " so they have it."
    },
    {
      "number": "output",
      "title": "",
      "start": 308.12,
      "end": 310.28,
      "text": " So one label means that they have diabetes,"
    },
    {
      "number": "output",
      "title": "",
      "start": 310.28,
      "end": 312.32,
      "text": " and the other label is a combination of people"
    },
    {
      "number": "output",
      "title": "",
      "start": 312.32,
      "end": 314.88,
      "text": " who have and who don't have diabetes."
    },
    {
      "number": "output",
      "title": "",
      "start": 314.88,
      "end": 316.64,
      "text": " So the point was, often you just might not"
    },
    {
      "number": "output",
      "title": "",
      "start": 316.64,
      "end": 318.15999999999997,
      "text": " be diagnosed for diabetes."
    },
    {
      "number": "output",
      "title": "",
      "start": 318.15999999999997,
      "end": 320.0,
      "text": " That, unfortunately, is not something"
    },
    {
      "number": "output",
      "title": "",
      "start": 320.0,
      "end": 321.96,
      "text": " that we're going to be able to solve here."
    },
    {
      "number": "output",
      "title": "",
      "start": 321.96,
      "end": 325.4,
      "text": " It is an issue, but we have no solution for it."
    },
    {
      "number": "output",
      "title": "",
      "start": 325.4,
      "end": 326.92,
      "text": " No, rather, there's a different point"
    },
    {
      "number": "output",
      "title": "",
      "start": 326.92,
      "end": 329.44,
      "text": " that I want to get at, which is that this data has biases"
    },
    {
      "number": "output",
      "title": "",
      "start": 329.44,
      "end": 329.94,
      "text": " in it."
    },
    {
      "number": "output",
      "title": "",
      "start": 329.94,
      "end": 335.15999999999997,
      "text": " So even if a patient is on a diabetes medication,"
    },
    {
      "number": "output",
      "title": "",
      "start": 335.15999999999997,
      "end": 338.0,
      "text": " for whatever reason, maybe they are paying cash"
    },
    {
      "number": "output",
      "title": "",
      "start": 338.0,
      "end": 339.64,
      "text": " for those medications."
    },
    {
      "number": "output",
      "title": "",
      "start": 339.64,
      "end": 341.92,
      "text": " They're paying cash for those medications,"
    },
    {
      "number": "output",
      "title": "",
      "start": 341.92,
      "end": 344.24,
      "text": " then there's not going to be any record for the patient"
    },
    {
      "number": "output",
      "title": "",
      "start": 344.24,
      "end": 347.72,
      "text": " taking those medications in the health insurance claims,"
    },
    {
      "number": "output",
      "title": "",
      "start": 347.72,
      "end": 350.96000000000004,
      "text": " because the health insurer didn't have to pay for it."
    },
    {
      "number": "output",
      "title": "",
      "start": 350.96000000000004,
      "end": 353.64000000000004,
      "text": " But the reason that you gave is also a very interesting reason,"
    },
    {
      "number": "output",
      "title": "",
      "start": 353.64000000000004,
      "end": 354.76,
      "text": " and both of them are valid."
    },
    {
      "number": "output",
      "title": "",
      "start": 354.76,
      "end": 356.8,
      "text": " So for all of these reasons, just"
    },
    {
      "number": "output",
      "title": "",
      "start": 356.8,
      "end": 359.40000000000003,
      "text": " looking at the medications alone is going to be insufficient."
    },
    {
      "number": "output",
      "title": "",
      "start": 359.40000000000003,
      "end": 361.20000000000005,
      "text": " And as was just suggested a moment ago,"
    },
    {
      "number": "output",
      "title": "",
      "start": 361.20000000000005,
      "end": 363.68,
      "text": " looking at other indicators, like, for example,"
    },
    {
      "number": "output",
      "title": "",
      "start": 363.68,
      "end": 366.76,
      "text": " does the patient have an abnormal blood glucose"
    },
    {
      "number": "output",
      "title": "",
      "start": 366.76,
      "end": 371.64,
      "text": " value or HA1C value, would also provide information."
    },
    {
      "number": "output",
      "title": "",
      "start": 371.84,
      "end": 373.36,
      "text": " So it's non-trivial, right?"
    },
    {
      "number": "output",
      "title": "",
      "start": 373.36,
      "end": 375.94,
      "text": " And part of what you're going to be doing in your next problem"
    },
    {
      "number": "output",
      "title": "",
      "start": 375.94,
      "end": 378.15999999999997,
      "text": " set, problem set two, is going to be thinking through,"
    },
    {
      "number": "output",
      "title": "",
      "start": 378.15999999999997,
      "end": 380.56,
      "text": " how does one actually do this cohort construction?"
    },
    {
      "number": "output",
      "title": "",
      "start": 380.56,
      "end": 382.64,
      "text": " Not just what is your inclusion exclusion criteria,"
    },
    {
      "number": "output",
      "title": "",
      "start": 382.64,
      "end": 385.08,
      "text": " but also how do you really derive those labels"
    },
    {
      "number": "output",
      "title": "",
      "start": 385.08,
      "end": 386.88,
      "text": " from that data set?"
    },
    {
      "number": "output",
      "title": "",
      "start": 386.88,
      "end": 389.91999999999996,
      "text": " Now, traditionally, the traditional answer to this"
    },
    {
      "number": "output",
      "title": "",
      "start": 389.91999999999996,
      "end": 391.44,
      "text": " has two steps to it."
    },
    {
      "number": "output",
      "title": "",
      "start": 391.44,
      "end": 395.68,
      "text": " Step one is to actually manually label some patients."
    },
    {
      "number": "output",
      "title": "",
      "start": 395.68,
      "end": 398.4,
      "text": " So you take a few hundred patients,"
    },
    {
      "number": "output",
      "title": "",
      "start": 398.4,
      "end": 400.03999999999996,
      "text": " and you go through their data."
    },
    {
      "number": "output",
      "title": "",
      "start": 400.04,
      "end": 402.64000000000004,
      "text": " You actually look at their data and decide,"
    },
    {
      "number": "output",
      "title": "",
      "start": 402.64000000000004,
      "end": 405.6,
      "text": " is this patient diabetic, or are they not diabetic?"
    },
    {
      "number": "output",
      "title": "",
      "start": 405.6,
      "end": 407.96000000000004,
      "text": " And the reason why you have to do that is because often,"
    },
    {
      "number": "output",
      "title": "",
      "start": 407.96000000000004,
      "end": 409.68,
      "text": " what you might think of as obvious,"
    },
    {
      "number": "output",
      "title": "",
      "start": 409.68,
      "end": 412.8,
      "text": " like, oh, if they're on diabetes medication, they're diabetic,"
    },
    {
      "number": "output",
      "title": "",
      "start": 412.8,
      "end": 414.08000000000004,
      "text": " has flaws to it."
    },
    {
      "number": "output",
      "title": "",
      "start": 414.08000000000004,
      "end": 416.20000000000005,
      "text": " And until you really dig down and look at the data,"
    },
    {
      "number": "output",
      "title": "",
      "start": 416.20000000000005,
      "end": 419.20000000000005,
      "text": " you might not recognize that that criteria has a flaw in it."
    },
    {
      "number": "output",
      "title": "",
      "start": 419.20000000000005,
      "end": 421.20000000000005,
      "text": " So that chart review is really an essential part"
    },
    {
      "number": "output",
      "title": "",
      "start": 421.20000000000005,
      "end": 423.52000000000004,
      "text": " of this process."
    },
    {
      "number": "output",
      "title": "",
      "start": 423.52000000000004,
      "end": 426.08000000000004,
      "text": " Then the second step is, how do you generalize"
    },
    {
      "number": "output",
      "title": "",
      "start": 426.08000000000004,
      "end": 429.8,
      "text": " to get that label now for everyone in your population?"
    },
    {
      "number": "output",
      "title": "",
      "start": 429.8,
      "end": 431.92,
      "text": " And again, there are usually two different types"
    },
    {
      "number": "output",
      "title": "",
      "start": 431.92,
      "end": 433.12,
      "text": " of approaches."
    },
    {
      "number": "output",
      "title": "",
      "start": 433.12,
      "end": 436.40000000000003,
      "text": " The first approach is to come up with some simple rule"
    },
    {
      "number": "output",
      "title": "",
      "start": 436.40000000000003,
      "end": 438.88,
      "text": " to try to then extrapolate to everyone."
    },
    {
      "number": "output",
      "title": "",
      "start": 438.88,
      "end": 442.84000000000003,
      "text": " For example, if they have a diabetes medication"
    },
    {
      "number": "output",
      "title": "",
      "start": 442.84000000000003,
      "end": 445.16,
      "text": " or an abnormal lab test result, that"
    },
    {
      "number": "output",
      "title": "",
      "start": 445.16,
      "end": 446.84000000000003,
      "text": " would be an example of a rule."
    },
    {
      "number": "output",
      "title": "",
      "start": 446.84000000000003,
      "end": 449.96000000000004,
      "text": " And then you could then apply that to everyone."
    },
    {
      "number": "output",
      "title": "",
      "start": 449.96000000000004,
      "end": 453.92,
      "text": " But even those rules can be really tricky to derive."
    },
    {
      "number": "output",
      "title": "",
      "start": 453.92,
      "end": 457.88,
      "text": " I'll show you some examples of that in just a moment."
    },
    {
      "number": "output",
      "title": "",
      "start": 457.88,
      "end": 461.44,
      "text": " And as we know, machine learning"
    },
    {
      "number": "output",
      "title": "",
      "start": 461.44,
      "end": 463.71999999999997,
      "text": " is sometimes good as an alternative"
    },
    {
      "number": "output",
      "title": "",
      "start": 463.71999999999997,
      "end": 464.84,
      "text": " for coming up with a rule."
    },
    {
      "number": "output",
      "title": "",
      "start": 464.84,
      "end": 467.4,
      "text": " So there's often now a second approach"
    },
    {
      "number": "output",
      "title": "",
      "start": 467.4,
      "end": 469.26,
      "text": " that's being more and more commonly used"
    },
    {
      "number": "output",
      "title": "",
      "start": 469.26,
      "end": 472.14,
      "text": " in the literature, which is to actually use machine learning"
    },
    {
      "number": "output",
      "title": "",
      "start": 472.14,
      "end": 474.84,
      "text": " itself to derive the labels."
    },
    {
      "number": "output",
      "title": "",
      "start": 474.84,
      "end": 476.4,
      "text": " And this is a bit subtle, because it's"
    },
    {
      "number": "output",
      "title": "",
      "start": 476.4,
      "end": 478.04,
      "text": " machine learning for machine learning."
    },
    {
      "number": "output",
      "title": "",
      "start": 478.04,
      "end": 481.18,
      "text": " So I want to break that down for one second."
    },
    {
      "number": "output",
      "title": "",
      "start": 481.18,
      "end": 483.76,
      "text": " When you're trying to derive the labels, what you want to know"
    },
    {
      "number": "output",
      "title": "",
      "start": 483.76,
      "end": 487.8,
      "text": " is not at time t, what's going to happen at time t"
    },
    {
      "number": "output",
      "title": "",
      "start": 487.8,
      "end": 489.12,
      "text": " plus w and onwards."
    },
    {
      "number": "output",
      "title": "",
      "start": 489.12,
      "end": 491.0,
      "text": " That's the original machine learning task"
    },
    {
      "number": "output",
      "title": "",
      "start": 491.0,
      "end": 492.72,
      "text": " that we set out to solve."
    },
    {
      "number": "output",
      "title": "",
      "start": 492.72,
      "end": 495.68,
      "text": " But rather, given everything you know about the patient,"
    },
    {
      "number": "output",
      "title": "",
      "start": 495.68,
      "end": 499.8,
      "text": " including the future data, is this patient newly diagnosed"
    },
    {
      "number": "output",
      "title": "",
      "start": 499.8,
      "end": 502.16,
      "text": " with diabetes in that window that I show in black there"
    },
    {
      "number": "output",
      "title": "",
      "start": 502.16,
      "end": 506.24,
      "text": " between t plus w and onward?"
    },
    {
      "number": "output",
      "title": "",
      "start": 506.24,
      "end": 508.84000000000003,
      "text": " So for example, this machine learning problem,"
    },
    {
      "number": "output",
      "title": "",
      "start": 508.84000000000003,
      "end": 510.3,
      "text": " this new machine learning problem,"
    },
    {
      "number": "output",
      "title": "",
      "start": 510.3,
      "end": 513.44,
      "text": " could take as input lab test results and medications"
    },
    {
      "number": "output",
      "title": "",
      "start": 513.44,
      "end": 515.16,
      "text": " and a whole bunch of other data."
    },
    {
      "number": "output",
      "title": "",
      "start": 515.16,
      "end": 518.1999999999999,
      "text": " And you then use the few examples"
    },
    {
      "number": "output",
      "title": "",
      "start": 518.1999999999999,
      "end": 521.48,
      "text": " you labeled in step one to try to predict,"
    },
    {
      "number": "output",
      "title": "",
      "start": 521.48,
      "end": 524.28,
      "text": " is this patient currently diabetic or not?"
    },
    {
      "number": "output",
      "title": "",
      "start": 524.28,
      "end": 525.9,
      "text": " You then use that model to extrapolate"
    },
    {
      "number": "output",
      "title": "",
      "start": 525.9,
      "end": 526.88,
      "text": " to the whole population."
    },
    {
      "number": "output",
      "title": "",
      "start": 526.88,
      "end": 529.0799999999999,
      "text": " And now you have your outcome label."
    },
    {
      "number": "output",
      "title": "",
      "start": 529.0799999999999,
      "end": 530.54,
      "text": " It might be a little bit imperfect,"
    },
    {
      "number": "output",
      "title": "",
      "start": 530.54,
      "end": 532.1999999999999,
      "text": " but hopefully it's much better than what"
    },
    {
      "number": "output",
      "title": "",
      "start": 532.1999999999999,
      "end": 533.7199999999999,
      "text": " you could have gotten with a rule."
    },
    {
      "number": "output",
      "title": "",
      "start": 533.7199999999999,
      "end": 536.3199999999999,
      "text": " And then now using those outcome labels,"
    },
    {
      "number": "output",
      "title": "",
      "start": 536.3199999999999,
      "end": 539.92,
      "text": " you solve your original machine learning problem."
    },
    {
      "number": "output",
      "title": "",
      "start": 539.92,
      "end": 540.48,
      "text": " Is that clear?"
    },
    {
      "number": "output",
      "title": "",
      "start": 540.48,
      "end": 543.3199999999999,
      "text": " Any questions?"
    },
    {
      "number": "output",
      "title": "",
      "start": 543.3199999999999,
      "end": 544.28,
      "text": " Yeah."
    },
    {
      "number": "output",
      "title": "",
      "start": 544.28,
      "end": 545.9599999999999,
      "text": " How do you evaluate yourself then"
    },
    {
      "number": "output",
      "title": "",
      "start": 545.9599999999999,
      "end": 547.8,
      "text": " if you have these labels that were produced"
    },
    {
      "number": "output",
      "title": "",
      "start": 547.8,
      "end": 550.28,
      "text": " with machine learning which are probabilistic?"
    },
    {
      "number": "output",
      "title": "",
      "start": 550.28,
      "end": 552.8399999999999,
      "text": " So that's where this first step is really important."
    },
    {
      "number": "output",
      "title": "",
      "start": 552.8399999999999,
      "end": 556.0,
      "text": " You've got to get ground truth somehow."
    },
    {
      "number": "output",
      "title": "",
      "start": 556.0,
      "end": 559.1999999999999,
      "text": " And of course, once you get that ground truth,"
    },
    {
      "number": "output",
      "title": "",
      "start": 559.1999999999999,
      "end": 562.16,
      "text": " you create a train and validate set of that ground truth."
    },
    {
      "number": "output",
      "title": "",
      "start": 562.16,
      "end": 564.4,
      "text": " You run your machine learning algorithm and train one."
    },
    {
      "number": "output",
      "title": "",
      "start": 564.4,
      "end": 567.4399999999999,
      "text": " You look at its performance metrics on that validate set"
    },
    {
      "number": "output",
      "title": "",
      "start": 567.4399999999999,
      "end": 569.16,
      "text": " for the label prediction problem."
    },
    {
      "number": "output",
      "title": "",
      "start": 569.16,
      "end": 571.0799999999999,
      "text": " And that's how you get confidence in it."
    },
    {
      "number": "output",
      "title": "",
      "start": 571.0799999999999,
      "end": 573.0,
      "text": " But let's try to break this down a little bit."
    },
    {
      "number": "output",
      "title": "",
      "start": 573.36,
      "end": 576.32,
      "text": " First of all, what does this chart review step look like?"
    },
    {
      "number": "output",
      "title": "",
      "start": 576.32,
      "end": 578.56,
      "text": " Well, if it's an electronic health record system,"
    },
    {
      "number": "output",
      "title": "",
      "start": 578.56,
      "end": 581.52,
      "text": " what you often do is you will pull up Epic or Cerner"
    },
    {
      "number": "output",
      "title": "",
      "start": 581.52,
      "end": 583.92,
      "text": " or whatever the commercial EHR system is."
    },
    {
      "number": "output",
      "title": "",
      "start": 583.92,
      "end": 586.16,
      "text": " And you'll actually start looking at the patient data."
    },
    {
      "number": "output",
      "title": "",
      "start": 586.16,
      "end": 588.2,
      "text": " You'll read notes written by previous doctors"
    },
    {
      "number": "output",
      "title": "",
      "start": 588.2,
      "end": 588.96,
      "text": " about this patient."
    },
    {
      "number": "output",
      "title": "",
      "start": 588.96,
      "end": 591.24,
      "text": " You'll look at their blood test results across time,"
    },
    {
      "number": "output",
      "title": "",
      "start": 591.24,
      "end": 592.72,
      "text": " medications that they're on."
    },
    {
      "number": "output",
      "title": "",
      "start": 592.72,
      "end": 595.24,
      "text": " And from that, you can usually tell a pretty coherent story"
    },
    {
      "number": "output",
      "title": "",
      "start": 595.24,
      "end": 596.92,
      "text": " of what's going on with the patient."
    },
    {
      "number": "output",
      "title": "",
      "start": 596.92,
      "end": 598.88,
      "text": " Of course, even better, the best way to get data"
    },
    {
      "number": "output",
      "title": "",
      "start": 598.88,
      "end": 600.16,
      "text": " is to do a perspective study."
    }
  ],
  "text": " So today, we'll be continuing along the theme of risk stratification. I'll spend the first half to 2 thirds of today's lecture continuing where we left off last week before the discussion. I'll talk about how does one drive the labels that one uses within a supervised machine learning approach. I'll continue talking about how one evaluates risk stratification models. And then I'll talk about some of the subtleties that arise when you want to use machine learning for health care, specifically for risk stratification. And I think that's going to be one of the most interesting parts of today's lecture. In the last third of today's lecture, I'll be talking about how one can rethink the supervised machine learning problem not to be a classification problem, but be something closer to a regression problem. And when one now thinks about not will someone, for example, develop diabetes within one to three years from now, but when precisely will they develop diabetes, so the time to event, then one has to start to really think very carefully about the censoring issues that I alluded to last week. And so I'll formalize those notions in the language of survival modeling. And I'll talk about how one can do maximum likelihood estimation in that setting and how one should do a validation in that setting. OK. So in our lecture last week, I gave you this example of risk stratification for type 2 diabetes. The goal, just to remind you, was as follows. 25% of people in the United States have undiagnosed type 2 diabetes. If we could take health insurance claims data that's available for everyone who has health insurance and use that to predict who in the near term, next one to three years, is likely to be newly diagnosed with type 2 diabetes, then we could use that to risk stratify patient population. We could use that then to figure out who's most at risk, do interventions for those patients to try to get them diagnosed and get them started on treatment if relevant. OK. But what I didn't talk much about was where did those labels come from? How do we know that someone had a diabetes onset in that window that I show up there on the top? So what are the answers? All of you should have read the paper by Rozavian et al. So you should hopefully have some ideas, thoughts. A hint, it was in the supplementary material. How did we define a positive case in that paper? Yep? The drugs they were on? Drugs they were on. OK, yeah. So for example, metformin, glucose, sorry, insulin. I think insulin includes metformin. Metformin is a tricky case, because metformin is often used for alternative indications. But there are many medications, such as insulin, which are used pretty exclusively for treating diabetes. And so you can look to see, does a patient have a record of taking one of these diabetic medications in that window that we're using to define the outcome? If you see a record of a medication, you might conjecture, this patient probably has diabetes. But what about if they don't have any medication listed in that time window? What could you conclude then? Any ideas? Yeah? If you look at the HbA1c value, and you know the normal range, and if you see that frequently, it's above like 75 or 70. So you're giving me an alternative approach, not looking at medications, but looking at laboratory test results. Look at their HbA1c results, which measures approximately an average of three month glucose values. And if that's out of range, then they're diabetic. And that's, in fact, usually used as a definition of diabetes. But that didn't answer my original question. Why is just looking at diabetic medications not enough? Yeah? Some of the diabetic medications can be used to treat other conditions. Sometimes there's ambiguity in diabetic medications. But we sort of dealt with that already by trying to choose an unambiguous set. What are other reasons? Just starting with the medicine and the onset of diabetes could be temporarily extended, like if not diabetes. Oh, that's a really interesting point. Not the one I was thinking about, but I like it. Which is that a patient might have been diagnosed with type 2 diabetes, but they, for whatever reason, in that communication between provider and patient, they decided we're not going to start treatment yet. So they might not yet be on treatment for diabetes, yet the whole health care system might be very well aware that the patient is diabetic, in which case doing any of these interventions for that patient might be irrelevant. Another reason? So a lot of people are just not diagnosed with diabetes, so they have it. So one label means that they have diabetes, and the other label is a combination of people who have and who don't have diabetes. So the point was, often you just might not be diagnosed for diabetes. That, unfortunately, is not something that we're going to be able to solve here. It is an issue, but we have no solution for it. No, rather, there's a different point that I want to get at, which is that this data has biases in it. So even if a patient is on a diabetes medication, for whatever reason, maybe they are paying cash for those medications. They're paying cash for those medications, then there's not going to be any record for the patient taking those medications in the health insurance claims, because the health insurer didn't have to pay for it. But the reason that you gave is also a very interesting reason, and both of them are valid. So for all of these reasons, just looking at the medications alone is going to be insufficient. And as was just suggested a moment ago, looking at other indicators, like, for example, does the patient have an abnormal blood glucose value or HA1C value, would also provide information. So it's non-trivial, right? And part of what you're going to be doing in your next problem set, problem set two, is going to be thinking through, how does one actually do this cohort construction? Not just what is your inclusion exclusion criteria, but also how do you really derive those labels from that data set? Now, traditionally, the traditional answer to this has two steps to it. Step one is to actually manually label some patients. So you take a few hundred patients, and you go through their data. You actually look at their data and decide, is this patient diabetic, or are they not diabetic? And the reason why you have to do that is because often, what you might think of as obvious, like, oh, if they're on diabetes medication, they're diabetic, has flaws to it. And until you really dig down and look at the data, you might not recognize that that criteria has a flaw in it. So that chart review is really an essential part of this process. Then the second step is, how do you generalize to get that label now for everyone in your population? And again, there are usually two different types of approaches. The first approach is to come up with some simple rule to try to then extrapolate to everyone. For example, if they have a diabetes medication or an abnormal lab test result, that would be an example of a rule. And then you could then apply that to everyone. But even those rules can be really tricky to derive. I'll show you some examples of that in just a moment. And as we know, machine learning is sometimes good as an alternative for coming up with a rule. So there's often now a second approach that's being more and more commonly used in the literature, which is to actually use machine learning itself to derive the labels. And this is a bit subtle, because it's machine learning for machine learning. So I want to break that down for one second. When you're trying to derive the labels, what you want to know is not at time t, what's going to happen at time t plus w and onwards. That's the original machine learning task that we set out to solve. But rather, given everything you know about the patient, including the future data, is this patient newly diagnosed with diabetes in that window that I show in black there between t plus w and onward? So for example, this machine learning problem, this new machine learning problem, could take as input lab test results and medications and a whole bunch of other data. And you then use the few examples you labeled in step one to try to predict, is this patient currently diabetic or not? You then use that model to extrapolate to the whole population. And now you have your outcome label. It might be a little bit imperfect, but hopefully it's much better than what you could have gotten with a rule. And then now using those outcome labels, you solve your original machine learning problem. Is that clear? Any questions? Yeah. How do you evaluate yourself then if you have these labels that were produced with machine learning which are probabilistic? So that's where this first step is really important. You've got to get ground truth somehow. And of course, once you get that ground truth, you create a train and validate set of that ground truth. You run your machine learning algorithm and train one. You look at its performance metrics on that validate set for the label prediction problem. And that's how you get confidence in it. But let's try to break this down a little bit. First of all, what does this chart review step look like? Well, if it's an electronic health record system, what you often do is you will pull up Epic or Cerner or whatever the commercial EHR system is. And you'll actually start looking at the patient data. You'll read notes written by previous doctors about this patient. You'll look at their blood test results across time, medications that they're on. And from that, you can usually tell a pretty coherent story of what's going on with the patient. Of course, even better, the best way to get data is to do a perspective study."
}
